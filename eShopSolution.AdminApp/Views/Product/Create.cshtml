@model eShopSolution.ViewModels.Catalog.Products.ProductCreateRequest

@{
    ViewData["Title"] = "Create New Product";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section Script{
    <script src="https://cdn.ckeditor.com/ckeditor5/36.0.0/classic/ckeditor.js"></script>
    <script>
        ClassicEditor.create(document.querySelector('#txt_Details'), {

        }).then(editor => {
            window.editor = editor;
        }).catch(err => {
            console.error(err.stack);
        });

    </script>
}

    <style>
        .field-icon {
            float: right;
            position: relative;
            z-index: 2;
        }

        .container {
            padding-top: 50px;
            margin: auto;
        }
    </style>


    <div class="d-flex flex-column flex-column-fluid" id="kt_content">
        <div class="d-flex flex-column-fluid" id="kt_post">
            <div id="kt_content_container" class="container-xxl">
                <form id="kt_ecommerce_add_product_form" class="form d-flex flex-column flex-lg-row" asp-action="Create" enctype="multipart/form-data" method="post">
                    <div class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px mb-7 me-lg-10">
                        <div class="card card-flush py-4">
                            <div class="card-header">
                                <div class="card-title">
                                    <h2>Ảnh sản phẩm</h2>
                                </div>
                            </div>
                            <div class="card-body text-center pt-0">
                                <div class="image-input image-input-empty image-input-outline mb-3" data-kt-image-input="true" style="background-image: url(../../../assets/media/svg/files/blank-image.svg)">
                                    <div class="image-input-wrapper w-150px h-150px"></div>
                                    <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Change avatar">
                                        <i class="bi bi-pencil-fill fs-7"></i>
                                        <input type="file" asp-for="ThumbnailImage" name="avatar" accept=".png, .jpg, .jpeg" />
                                        <input type="hidden" name="avatar_remove" />
                                    </label>
                                    <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" data-kt-image-input-action="cancel" data-bs-toggle="tooltip" title="Cancel avatar">
                                        <i class="bi bi-x fs-2"></i>
                                    </span>
                                    <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow" data-kt-image-input-action="remove" data-bs-toggle="tooltip" title="Remove avatar">
                                        <i class="bi bi-x fs-2"></i>
                                    </span>
                                </div>
                                <div class="text-muted fs-7">Chỉ chấp nhận file ảnh *.png, *.jpg and *.jpeg.</div>
                            </div>
                        </div>
                        <div class="card card-flush py-4">
                            <div class="card-header">
                                <div class="card-title">
                                    <h2>Loại sản phẩm</h2>
                                </div>
                            </div>
                            <div class="card-body pt-0">
                                <select class="form-select mb-2" data-control="select2" data-placeholder="Select an option" data-allow-clear="true" multiple="multiple" name="categoryId" asp-items="@ViewBag.SelectedCategories">
                                </select>
                                <a href="#" class="btn btn-light-primary btn-sm mb-10">
                                    <span class="svg-icon svg-icon-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                            <rect opacity="0.5" x="11" y="18" width="12" height="2" rx="1" transform="rotate(-90 11 18)" fill="black" />
                                            <rect x="6" y="11" width="12" height="2" rx="1" fill="black" />
                                        </svg>
                                    </span>
                                    Tạo mới loại sản phẩm
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">
                        <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-bold mb-n2">
                            <li class="nav-item">
                                <a class="nav-link text-active-primary pb-4 active" data-bs-toggle="tab" href="#kt_ecommerce_add_product_general">Thêm thông tin sản phẩm</a>
                            </li>
                            @*<li class="nav-item">
                        <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#kt_ecommerce_add_product_advanced">Advanced</a>
                        </li>*@
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="kt_ecommerce_add_product_general" role="tab-panel">
                                <div class="d-flex flex-column gap-7 gap-lg-10">
                                    <div class="card card-flush py-4">
                                        <div class="card-header">
                                            <div class="card-title">
                                                <h2>Thông tin sản phẩm</h2>
                                            </div>
                                        </div>

                                        <div class="card-body pt-0">
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">Tên sản phẩm</label>
                                                <input type="text" asp-for="Name" class="form-control mb-2" placeholder="Tên sản phẩm" />
                                                <span asp-validation-for="Name" class="text-danger"></span>
                                            </div>
                                            <div>
                                                <label class="form-label">Mô tả</label>
                                                <textarea type="text" asp-for="Description" class="form-control form-control-solid "></textarea>
                                                <span asp-validation-for="Description" class="text-danger"></span>
                                                <div class="text-muted fs-7">Thêm mô tả cho sản phẩm để hiển thị tốt hơn.</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card card-flush py-4">
                                        <div class="card-header">
                                            <div class="card-title">
                                                <h2>Định giá sản phẩm</h2>
                                            </div>
                                        </div>
                                        <div class="card-body pt-0">
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">Giá nhập</label>
                                                <input type="number" asp-for="Price" class="form-control mb-2" placeholder="Giá nhập" />
                                                <span asp-validation-for="Price" class="text-danger"></span>
                                            </div>
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">Giá bán</label>
                                                <input type="number" asp-for="OriginalPrice" class="form-control mb-2" placeholder="Giá bán" />
                                                <span asp-validation-for="OriginalPrice" class="text-danger"></span>
                                            </div>
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">Số lượng</label>
                                                <div class="d-flex gap-3">
                                                    <input type="number" asp-for="Stock" class="form-control mb-2" placeholder="On shelf" value="" />
                                                    @*<input type="number" name="warehouse" class="form-control mb-2" placeholder="In warehouse" />*@
                                                    <span asp-validation-for="Stock" class="text-danger"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card card-flush py-4">
                                        <div class="card-header">
                                            <div class="card-title">
                                                <h2>Mô tả chi tiết</h2>
                                            </div>
                                        </div>
                                        <div class="card-body pt-0">
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">Chi tiết sản phẩm</label>
                                                <div class="d-flex gap-3">
                                                    <textarea type="text" id="txt_Details" asp-for="Details" class="form-control form-control-solid "></textarea>
                                                    <span asp-validation-for="Details" class="text-danger"></span>
                                                </div>
                                            </div>
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">SeoDescription</label>
                                                <input type="text" asp-for="SeoDescription" class="form-control form-control-solid " placeholder="SeoDescription" />
                                                <span asp-validation-for="SeoDescription" class="text-danger"></span>
                                            </div>
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">SeoTitle</label>
                                                <input type="text" asp-for="SeoTitle" class="form-control form-control-solid " placeholder="SeoTitle" />
                                                <span asp-validation-for="SeoTitle" class="text-danger"></span>
                                            </div>
                                            <div class="mb-10 fv-row">
                                                <label class=" form-label">SeoAlias</label>
                                                <input type="text" asp-for="SeoAlias" class="form-control form-control-solid " placeholder="SeoAlias" />
                                                <span asp-validation-for="SeoAlias" class="text-danger"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end">
                            <a href="products.html" id="kt_ecommerce_add_product_cancel" class="btn btn-light me-5">Cancel</a>
                            <button type="submit" id="kt_ecommerce_add_product_submit" class="btn btn-primary">
                                <span class="indicator-label">Save Changes</span>
                                <span class="indicator-progress">
                                    Please wait...
                                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
